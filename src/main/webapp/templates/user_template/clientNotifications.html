<div class="section">
    <div class="container-fluid">
        <div class="block-header">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <h2 class="title">Notifications</h2>
                    <ul class="breadcrumb">
                        <li class="breadcrumb-item"><a href="index"><i class="fa fa-home"></i> WebShop</a></li>
                        <li class="breadcrumb-item active">Notifications</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row clearfix">
                <div class="col-lg-12">
                    <div class="card">
                        <form method="post" action="myNotifications">
                            <div class="justify-content-between align-items-center">
                                <div class="btn-group">
                                    <a href="myNotifications" class="btn btn-outline-secondary btn-sm" title="Refresh"><i class="fa fa-refresh"></i></a>
                                    <button type="submit" name="readAll" class="btn btn-outline-secondary btn-sm" title="Read All"><i class="fa fa-eye"></i></button>
                                    <button type="submit" name="unreadAll" class="btn btn-outline-secondary btn-sm" title="Unread All"><i class="fa fa-eye-slash"></i></button>
                                    <button type="submit" name="delete" class="btn btn-outline-secondary btn-sm" title="Delete"><i class="fa fa-trash"></i></button>
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover dataTable js-exportable c_table">
                                    <thead>
                                        <tr>             
                                            <th class="sorting_asc_disabled sorting_desc_disabled" width="10px"><input type="checkbox" onclick="toggle(this)"></th>                          
                                            <th class="sorting_asc_disabled sorting_desc_disabled" width="10px"></th>
                                            <th>Type</th>
                                            <th>Message</th>                                        
                                            <th>Sent on</th>
                                            <th class="sorting_asc_disabled sorting_desc_disabled" width="10px">Link</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <#if (notifications?size>0)>    
                                            <#list notifications as notification>
                                                <tr>
                                                    <td><input type="checkbox" name="check[]" value="${notification.key}"></td>    
                                                    <td>
                                                        <a href="myNotifications?read=${notification.key}" title="Read" role="button">
                                                            <#if !notification.read>
                                                                <i class="fa fa-envelope"></i>
                                                            </#if>
                                                        </a>
                                                    </td>
                                                    <td>
                                                        <#if notification.type?matches("INFO", "i")>
                                                            <span class="icon-circle bg-blue btn-sm"><i class="fa fa-user"></i> ${notification.type}</span>
                                                        </#if>
                                                        <#if notification.type?matches("NUOVO", "i")>
                                                            <span class="icon-circle bg-green btn-sm"><i class="fa fa-commenting"></i> ${notification.type}</span>
                                                        </#if>
                                                        <#if notification.type?matches("MODIFICATO", "i")>
                                                            <span class="icon-circle bg-amber btn-sm"><i class="fa fa-edit"></i> ${notification.type}</span>
                                                        </#if>
                                                        <#if notification.type?matches("CHIUSO", "i")>
                                                            <span class="icon-circle bg-purple btn-sm"><i class="fa fa-shopping-cart"></i> ${notification.type}</span>
                                                        </#if>
                                                        <#if notification.type?matches("ANNULLATO", "i")>
                                                            <span class="icon-circle bg-red btn-sm"><i class="fa fa-trash"></i> ${notification.type}</span>
                                                        </#if>
                                                    </td>
                                                    <td><textarea spellcheck="false" cols="32"  class="<#if !notification.read>text-primary</#if> not-split-text" disabled>${notification.message}</textarea></td>    
                                                    <td><i class="fa fa-time"></i> ${notification.creationDate.format('dd/MM/yyyy HH:mm')}</td>
                                                    <td><#if notification.link?has_content><a href="${notification.link}" class="btn btn-default btn-sm"><i class="fa fa-paperclip"></i></a></#if></td>
                                                </tr>
                                            </#list>
                                        </#if>
                                    </tbody>
                                </table>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
